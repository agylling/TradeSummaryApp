(this["webpackJsonptrade-summary"]=this["webpackJsonptrade-summary"]||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},20:function(e,t,n){},21:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(5),o=n.n(l),c=(n(20),n(21),n(1)),i=function(e){return{type:"SET_TRANSACTIONS",payload:e}},s=function(e){return{type:"SORT_FILTER",payload:e}},u=new FileReader,d=Object(c.b)(null,(function(e){return{addTransaction:function(t,n,a,r,l,o,c,i,s,u,d){return e(function(e,t,n,a,r,l,o,c,i,s,u){return{type:"ADD_TRANSACTION",date:e,account:t,transactiontype:n,stockname:a,amount:r,price:l,total:o,brokerage:c,currency:i,id:s,included:!0,index:u}}(t,n,a,r,l,o,c,i,s,u,d))},removeTransactions:function(){return e({type:"REMOVE_TRANSACTIONS"})}}}))((function(e){var t=e.addTransaction,n=e.removeTransactions,a=(e.dispatch,function(e){e.preventDefault();for(var n=u.result,a=(n=n.replace(/,/g,".")).split("\n"),r=0;r<a.length;r++){var l=a[r].split(";");0!==r&&r!==a.length-1&&t(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],r-1)}});return r.a.createElement("div",null,r.a.createElement("input",{type:"file",id:"file",className:"input-file",accept:".csv",onChange:function(e){return t=e.target.files[0],n(),u.onloadend=a,void u.readAsText(t);var t}}))})),m=Object(c.b)(null,(function(e){return{include:function(t,n,a){e(function(e,t,n){return{type:"INCLUDE",index:e,date:t,included:n}}(t,n,a))}}}))((function(e){var t=e.include,n=(e.dispatch,e.date),a=e.account,l=e.transactiontype,o=e.stockname,c=e.amount,i=e.price,s=e.total,u=e.brokerage,d=e.currency,m=e.id,p=e.included,f=e.index;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",defaultChecked:!0,onClick:function(){t(f,n,p)}})),r.a.createElement("td",null,"  ",n,"  "),r.a.createElement("td",null,"  ",a,"   "),r.a.createElement("td",null,"  ",l,"   "),r.a.createElement("td",null,"  ",o,"   "),r.a.createElement("td",null,"  ",c,"   "),r.a.createElement("td",null,"  ",i,"   "),r.a.createElement("td",null,"  ",s,"   "),r.a.createElement("td",null,"  ",u,"   "),r.a.createElement("td",null,"  ",d,"   "),r.a.createElement("td",null,"  ",m,"   "))})),p=n(9),f=Object(c.b)((function(e){return{transactions:(t=e.TransactionsStore.transactions,n=e.TransactionsStore.sortFilter,t.sort((function(e,t){return e[n]<t[n]?1:-1})))};var t,n}),(function(e){return{setFilter:function(t){return e(s(t))},setTransactions:function(t){return e(i(t))}}}))((function(e){var t=e.transactions,n=e.setFilter;e.setTransactions;return r.a.createElement("table",{className:"centering"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null," Included "),r.a.createElement("th",{className:"sort",onClick:function(){return n("date")}}," ",r.a.createElement(p.a,{onClick:function(){return n("date")}})," Date "),r.a.createElement("th",null," Account "),r.a.createElement("th",null," Transactiontype "),r.a.createElement("th",{className:"sort",onClick:function(){return n("stockname")}}," ",r.a.createElement(p.a,null)," Name  "),r.a.createElement("th",null," Amount "),r.a.createElement("th",null," Price "),r.a.createElement("th",null," Total "),r.a.createElement("th",null," Brokerage "),r.a.createElement("th",null," Currency "),r.a.createElement("th",null," Id "))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(m,e)}))))})),h=n(13),E=function e(t){var n=this;Object(h.a)(this,e),this.addBuy=function(e,t,a){a="-"===a?0:a,n.paid+=parseFloat(t)*parseFloat(e),n.sharesBought+=parseFloat(e),n.amountOwned+=parseFloat(e),n.avgBought=parseFloat(n.paid/n.sharesBought),n.brokerage+=parseFloat(a)},this.sell=function(e,t,a){a="-"===a?0:a;var r=-1*parseFloat(e)*parseFloat(t);n.amountOwned+=parseFloat(e),n.sharesSold+=-1*parseFloat(e),n.sold+=r,n.brokerage+=parseFloat(a)},this.addDividents=function(e,t){n.divident+=parseFloat(e)*parseFloat(t)},this.getProfits=function(){var e=parseFloat(n.sharesBought)<parseFloat(n.sharesSold)?parseFloat(n.sharesBought):parseFloat(n.sharesSold);n.profit=parseFloat(n.sold)-e*n.avgBought+parseFloat(n.divident)-parseFloat(n.brokerage)},this.returnProfit=function(){return n.profit},this.printInformation=function(){return 0===n.profit?null:r.a.createElement("tr",null,r.a.createElement("td",null,n.name),r.a.createElement("td",null,n.sharesBought),r.a.createElement("td",null,n.avgBought),r.a.createElement("td",null,n.paid),r.a.createElement("td",null,n.sharesSold),r.a.createElement("td",null,parseFloat(parseFloat(n.sold)/parseFloat(n.sharesSold)).toFixed(2)),r.a.createElement("td",null,n.sold),r.a.createElement("td",null,n.divident),r.a.createElement("td",null,n.brokerage),r.a.createElement("td",null,n.profit))},this.roundDecimals=function(){n.amountOwned=parseFloat(n.amountOwned.toFixed(2)),n.paid=parseFloat(n.paid.toFixed(2)),n.sharesBought=parseFloat(n.sharesBought.toFixed(2)),n.sold=parseFloat(n.sold.toFixed(2)),n.sharesSold=parseFloat(n.sharesSold.toFixed(2)),n.avgBought=parseFloat(n.avgBought.toFixed(2)),n.divident=parseFloat(n.divident.toFixed(2)),n.profit=parseFloat(n.profit.toFixed(2)),n.brokerage=parseFloat(n.brokerage.toFixed(2))},this.name=t,this.amountOwned=0,this.paid=0,this.sharesBought=0,this.sold=0,this.sharesSold=0,this.avgBought=0,this.divident=0,this.profit=0,this.brokerage=0},g=function(e){return e.printInformation()},y=Object(c.b)((function(e){return{transactions:e.TransactionsStore.transactions}}),(function(e){return{addSummary:function(t){return e({type:"ADD_SUMMARY",payload:t})},setProfit:function(t){return e(function(e){return{type:"SET_PROFIT",payload:e}}(t))},setFilter:function(t){return e(s(t))}}}))((function(e){var t=e.transactions,n=e.addSummary,a=e.setProfit,l=e.setFilter,o=(e.dispatch,new Map),c=[],i=0;return function(e){e.map((function(e){o.has(e.stockname)||o.set(e.stockname,new E(e.stockname));var t=o.get(e.stockname);e.included&&function(e,t){var n=Object.assign({},t);switch(n.transactiontype){case"K\xf6p":e.addBuy(n.amount,n.price,n.brokerage);break;case"S\xe4lj":e.sell(n.amount,n.price,n.brokerage);break;case"Utdelning":e.addDividents(n.amount,n.price)}e.getProfits(),e.roundDecimals()}(t,e)}))}(t),n(c),r.a.createElement("div",{className:"centering"},r.a.createElement("table",{className:"centering"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return l("stockname")}},"Name"),r.a.createElement("th",null,"Bought"),r.a.createElement("th",null,"@avg"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Sold"),r.a.createElement("th",null,"@avg"),r.a.createElement("th",null,"Total"),r.a.createElement("th",null,"Dividents"),r.a.createElement("th",null,"Brokerage"),r.a.createElement("th",null,"Profit"))),r.a.createElement("tbody",null,function(e){var t=!0,n=!1,l=void 0;try{for(var c,s=o.values()[Symbol.iterator]();!(t=(c=s.next()).done);t=!0){var u=c.value;e.push(u)}}catch(d){n=!0,l=d}finally{try{t||null==s.return||s.return()}finally{if(n)throw l}}return e.map((function(e){return i+=parseFloat(e.returnProfit()),a(i),r.a.createElement(g,e)}))}(c))))})),F=Object(c.b)((function(e){return{profit:e.TransactionsStore.profit}}),(function(e){return{}}))((function(e){var t=e.profit;e.dispatch;return r.a.createElement("h2",null," Total Profit: ",t," ")}));var v=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(F,null),r.a.createElement(d,null),r.a.createElement(f,null),r.a.createElement(y,null))},b=n(4),O=n(10),S=n(14);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={transactions:[],summaries:[],profit:0,sortFilter:"date"},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INCLUDE":return console.log("IN INCLUDE"),k({},e,{transactions:e.transactions.map((function(e){return e.index===t.index&&e.name===t.name?k({},e,{included:!t.included}):e}))});case"ADD_TRANSACTION":return k({},e,{transactions:[].concat(Object(O.a)(e.transactions),[{date:t.date,account:t.account,transactiontype:t.transactiontype,stockname:t.stockname,amount:t.amount,price:t.price,total:t.total,brokerage:t.brokerage,currency:t.currency,id:t.id,included:!0,index:t.index}])});case"SET_TRANSACTIONS":return k({},e,{transactions:t.payload});case"REMOVE_TRANSACTIONS":return k({},e,{transactions:[],summaries:[],sortFilter:"date"});case"ADD_SUMMARY":return console.log("IN ADD_SUMMARY"),k({},e,{summaries:t.payload});case"SET_PROFIT":return k({},e,{profit:t.payload});case"SORT_FILTER":return k({},e,{transactions:Object(O.a)(e.transactions).sort((function(e,n){return e[t.payload]<n[t.payload]?-1:1})),sortFilter:t.payload});default:return e}},_=Object(b.b)({TransactionsStore:D}),A=Object(b.c)(_,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),w=document.getElementById("root");o.a.render(r.a.createElement(c.a,{store:A},r.a.createElement(v,null)),w)}},[[15,1,2]]]);
//# sourceMappingURL=main.b808aa6d.chunk.js.map